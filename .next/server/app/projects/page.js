(()=>{var e={};e.id=895,e.ids=[895],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},641:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d}),t(7625),t(4127),t(5866);var r=t(3191),a=t(8716),l=t(7922),i=t.n(l),n=t(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=["",{children:["projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7625)),"D:\\Task\\enterprise-task-management\\frontend\\src\\app\\projects\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4127)),"D:\\Task\\enterprise-task-management\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Task\\enterprise-task-management\\frontend\\src\\app\\projects\\page.tsx"],x="/projects/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/projects/page",pathname:"/projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9868:(e,s,t)=>{Promise.resolve().then(t.bind(t,587))},7358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1137:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},3855:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8307:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8091:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},587:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var r=t(326),a=t(7577),l=t(4690),i=t(5047),n=t(5342),o=t(8069),d=t(1223),c=t(381),x=t(3855),m=t(8307),u=t(1137);let p=(0,t(6557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var g=t(8091),h=t(7358),b=t(4019),j=t(5233);function y(){let{user:e,loading:s}=(0,l.a)();(0,i.useRouter)();let[t,n]=(0,a.useState)([]),[b,y]=(0,a.useState)(!0),[w,k]=(0,a.useState)("");e?._id;let[C,P]=(0,a.useState)(""),[_,S]=(0,a.useState)(""),[M,A]=(0,a.useState)(!1),[E,H]=(0,a.useState)("all"),[T,q]=(0,a.useState)(null),[I,D]=(0,a.useState)(!1),[Z,L]=(0,a.useState)(!1),F=e=>{q(e),D(!0)},G=e=>{q(e),L(!0)},O=()=>{L(!1),q(null)},R=e?.role==="admin",U=s=>!!e&&("admin"===e.role||"team_member"===e.role&&(Array.isArray(s.teamMembers)?s.teamMembers.map(e=>"string"==typeof e?e:e._id):[]).includes(e._id)),V=s=>!!e&&"admin"===e.role,z=s=>!!e&&("admin"===e.role||"team_member"===e.role&&(Array.isArray(s.teamMembers)?s.teamMembers.map(e=>"string"==typeof e?e:e._id):[]).includes(e._id)),$=async()=>{try{y(!0);let e={};w&&(e.search=w),C&&(e.status=C),_&&(e.priority=_);let s=await o.Z.getProjects(e);if(console.log("Projects API response:",s),s.success&&s.data){let e=s.data.projects||s.data.items||[];console.log("Projects data:",e),n(e)}else console.log("No projects data in response"),n([])}catch(e){console.error("Failed to load projects:",e),c.Am.error("Failed to load projects")}finally{y(!1)}},B=async e=>{if(confirm("Are you sure you want to delete this project? This action cannot be undone."))try{await o.Z.deleteProject(e),c.Am.success("Project deleted successfully"),$()}catch(e){console.error("Failed to delete project:",e),c.Am.error("Failed to delete project")}},W=async(e,s)=>{try{await o.Z.updateProject(e,{status:s}),c.Am.success("Project status updated successfully"),$()}catch(e){console.error("Failed to update project status:",e),c.Am.error("Failed to update project status")}},J=t.filter(e=>{if(!z(e))return!1;let s=e.title.toLowerCase().includes(w.toLowerCase())||e.description.toLowerCase().includes(w.toLowerCase()),t=!C||e.status===C,r=!_||e.priority===_;return s&&t&&r});return s||b?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?r.jsx(j.Z,{children:(0,r.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 via-indigo-950 to-gray-900 min-h-screen",children:[r.jsx("header",{className:"bg-gradient-to-r from-slate-900 via-indigo-950 to-gray-900 shadow-lg border-b border-slate-800/60",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-20",children:[r.jsx("div",{className:"flex flex-col justify-center",children:r.jsx("h1",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-blue-400 drop-shadow-lg tracking-tight",children:"Projects"})}),r.jsx("div",{className:"flex items-center gap-4",children:R&&(0,r.jsxs)("button",{onClick:()=>A(!0),className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-2 rounded-xl shadow-md border border-indigo-400/30 flex items-center gap-2 font-bold hover:scale-105 transition-transform",children:[r.jsx(x.Z,{className:"w-5 h-5"}),r.jsx("span",{children:"New Project"})]})})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 ",children:[r.jsx("p",{className:"text-2xl text-slate-300 mt-1 mb-10 font-medium drop-shadow-sm",children:"admin"===e.role?"Manage your team projects":"View your assigned projects"}),r.jsx("div",{className:" rounded-lg p-6 mb-6 bg-gradient-to-r from-slate-900 via-indigo-950 to-gray-900 border-b border-slate-200",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1",children:[(0,r.jsxs)("div",{className:"relative flex-1 max-w-md",children:[r.jsx(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search projects...",value:w,onChange:e=>k(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full"})]}),(0,r.jsxs)("select",{value:_,onChange:e=>S(e.target.value),className:"pl-5 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 appearance-none bg-white relative",children:[r.jsx("option",{value:"",children:"All Priority"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"critical",children:"Critical"})]})]}),(0,r.jsxs)("button",{onClick:$,className:"flex items-center space-x-2 px-4 py-2 text-slate-200 hover:text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(u.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"Refresh"})]})]})}),0===J.length?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center border border-gray-200",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(p,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:R?"Get started by creating your first project.":"No projects match your current filters."}),R&&r.jsx("button",{onClick:()=>A(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Project"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:J.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-7 hover:shadow-xl transition-all duration-200 hover:-translate-y-1 flex flex-col justify-between min-h-[340px]",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2 tracking-tight",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[U(e)?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{value:e.status,onChange:s=>W(e._id,s.target.value),className:`px-3 pr-8 py-1.5 rounded-full text-xs font-semibold border-0 focus:ring-2 focus:ring-blue-500 transition-all appearance-none ${(0,d.z2)(e.status)}`,title:"Update project status",children:[r.jsx("option",{value:"planning",children:"Planning"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"testing",children:"Testing"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"on_hold",children:"On Hold"})]}),r.jsx("svg",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{d:"M7 8l3 3 3-3"})})]}):r.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-semibold ${(0,d.z2)(e.status)}`,children:(0,d.uV)(e.status)}),r.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold ${(0,d._$)(e.priority)} text-gray-800 ml-1`,children:(0,d.uV)(e.priority)})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>F(e),className:"px-2 py-1 text-sm text-gray-600 hover:text-green-600 hover:bg-green-50 rounded transition-all",title:"View Details",children:"Details"}),U(e)&&r.jsx("button",{onClick:()=>G(e),className:"px-2 py-1 text-sm text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-all",title:"Edit Project",children:"Edit"}),V(e)&&r.jsx("button",{onClick:()=>B(e._id),className:"p-1 text-gray-400 hover:text-red-600",title:"Delete Project",children:r.jsx(g.Z,{className:"w-4 h-4"})})]})]}),r.jsx("p",{className:"text-gray-600 text-base mb-4 line-clamp-3 font-medium",children:e.description}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(h.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"Deadline:"})]}),r.jsx("span",{className:"font-medium text-gray-900",children:(0,d.p6)(e.deadline)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(p,{className:"w-4 h-4"}),r.jsx("span",{children:"Team:"})]}),(0,r.jsxs)("span",{className:"font-medium text-gray-900",children:[e.teamMembers?.length||0," members"]})]}),e.estimatedHours&&(0,r.jsxs)("div",{className:"flex items-center justify-between text-gray-600",children:[r.jsx("span",{children:"Estimated Hours:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-900",children:[e.estimatedHours,"h"]})]}),e.actualHours&&(0,r.jsxs)("div",{className:"flex items-center justify-between text-gray-600",children:[r.jsx("span",{children:"Actual Hours:"}),(0,r.jsxs)("span",{className:"font-medium text-gray-900",children:[e.actualHours,"h"]})]})]}),(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"space-y-1 text-xs text-gray-500",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Manager:"}),r.jsx("span",{className:"font-medium",children:"object"==typeof e.managerId?`${e.managerId.firstName} ${e.managerId.lastName}`:"Unknown"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Created:"}),r.jsx("span",{children:(0,d.p6)(e.createdAt)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Updated:"}),r.jsx("span",{children:(0,d.p6)(e.updatedAt)})]})]}),e.tags&&e.tags.length>0&&(0,r.jsxs)("div",{className:"mt-2 flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((e,s)=>r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:e},s)),e.tags.length>3&&(0,r.jsxs)("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:["+",e.tags.length-3]})]})]})]},e._id))})]}),M&&r.jsx(f,{onClose:()=>A(!1),onSuccess:()=>{A(!1),$()}}),I&&T&&r.jsx(v,{project:T,onClose:()=>{D(!1),q(null)}}),Z&&T&&r.jsx(N,{project:T,onClose:O,onSuccess:()=>{O(),$()}})]})}):null}function f({onClose:e,onSuccess:s}){let[t,i]=(0,a.useState)(""),[d,m]=(0,a.useState)(""),[u,p]=(0,a.useState)(""),[g,h]=(0,a.useState)(n.Ig.MEDIUM),[j,y]=(0,a.useState)(n.kJ.PLANNING),[f,v]=(0,a.useState)(""),[N,w]=(0,a.useState)(""),[k,C]=(0,a.useState)(!1),[P,_]=(0,a.useState)([]),[S,M]=(0,a.useState)([]),{user:A}=(0,l.a)(),E=A?._id||"",H=async e=>{if(e.preventDefault(),!t.trim()||!u){c.Am.error("Please fill in all required fields");return}try{C(!0),await o.Z.createProject({title:t,description:d,deadline:u,priority:g,status:j,managerId:E,teamMembers:S,estimatedHours:f?parseFloat(f):void 0,tags:N.split(",").map(e=>e.trim()).filter(Boolean)}),c.Am.success("Project created successfully"),s()}catch(e){console.error(e),c.Am.error(e?.response?.data?.message||"Failed to create project")}finally{C(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-3xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-2xl",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Project"}),r.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all",children:r.jsx(b.Z,{className:"w-5 h-5"})})]})}),(0,r.jsxs)("form",{onSubmit:H,className:"p-6 space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Project Title ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"text",placeholder:"Enter project title...",value:t,onChange:e=>i(e.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm text-black",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{placeholder:"Describe the project in detail...",value:d,onChange:e=>m(e.target.value),rows:4,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm resize-none text-black"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Deadline ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"date",value:u,onChange:e=>p(e.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm text-black",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority"}),(0,r.jsxs)("select",{value:g,onChange:e=>h(e.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm bg-white text-black",children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"critical",children:"Critical"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Initial Status"}),(0,r.jsxs)("select",{value:j,onChange:e=>y(e.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm bg-white text-black",children:[r.jsx("option",{value:"planning",children:"Planning"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"testing",children:"Testing"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"on_hold",children:"On Hold"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tags"}),r.jsx("input",{type:"text",placeholder:"Enter tags separated by commas...",value:N,onChange:e=>w(e.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm text-black"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assign Team Members"}),(0,r.jsxs)("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-lg p-2",children:[P.filter(e=>"admin"!==e.role).map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[r.jsx("input",{type:"checkbox",value:e._id,checked:S.includes(e._id),onChange:s=>{s.target.checked?M([...S,e._id]):M(S.filter(s=>s!==e._id))},className:"text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:[e.firstName," ",e.lastName," (",e.email,")"]})]},e._id)),0===P.filter(e=>"admin"!==e.role).length&&r.jsx("p",{className:"text-sm text-gray-500 p-2",children:"No team members available"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all font-medium text-sm",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:k,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all font-medium text-sm shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:k?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(x.Z,{className:"w-4 h-4"}),"Create Project"]})})]})]})]})})}function v({project:e,onClose:s}){return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-2xl flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Project Details"}),r.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all",children:r.jsx(b.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.title}),e.description&&r.jsx("p",{className:"text-gray-600 text-base mb-2 font-medium",children:e.description})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Deadline:"}),r.jsx("span",{className:"text-gray-900 font-medium",children:(0,d.p6)(e.deadline)})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Team:"}),(0,r.jsxs)("span",{className:"text-gray-900 font-medium",children:[e.teamMembers?.length||0," members"]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Priority:"}),r.jsx("span",{className:"text-gray-900 font-medium",children:(0,d.uV)(e.priority)})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Status:"}),r.jsx("span",{className:"text-gray-900 font-medium",children:(0,d.uV)(e.status)})]}),e.estimatedHours&&(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Estimated Hours:"}),(0,r.jsxs)("span",{className:"text-gray-900 font-medium",children:[e.estimatedHours,"h"]})]}),e.actualHours&&(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Actual Hours:"}),(0,r.jsxs)("span",{className:"text-gray-900 font-medium",children:[e.actualHours,"h"]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Manager:"}),r.jsx("span",{className:"text-gray-900 font-medium",children:"object"==typeof e.managerId?`${e.managerId.firstName} ${e.managerId.lastName}`:"Unknown"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Created:"}),r.jsx("span",{className:"text-gray-900 font-medium",children:(0,d.p6)(e.createdAt)})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Updated:"}),r.jsx("span",{className:"text-gray-900 font-medium",children:(0,d.p6)(e.updatedAt)})]}),e.tags&&e.tags.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-1 pt-2",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Tags:"}),e.tags.map((e,s)=>r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded ml-2",children:e},s))]})]})]})]})})}function N({project:e,onClose:s,onSuccess:t}){let[i,n]=(0,a.useState)(e.title),[d,x]=(0,a.useState)(e.description||""),[m,u]=(0,a.useState)(e.deadline?e.deadline.slice(0,10):""),[p,g]=(0,a.useState)(e.priority),[h,j]=(0,a.useState)(e.status),[y,f]=(0,a.useState)(e.estimatedHours?String(e.estimatedHours):""),[v,N]=(0,a.useState)(e.tags?e.tags.join(", "):""),[w,k]=(0,a.useState)(!1),[C,P]=(0,a.useState)([]),[_,S]=(0,a.useState)(Array.isArray(e.teamMembers)?e.teamMembers.map(e=>"string"==typeof e?e:e._id):[]),{user:M}=(0,l.a)(),A=async s=>{if(s.preventDefault(),!i.trim()||!m){c.Am.error("Please fill in all required fields");return}try{k(!0),await o.Z.updateProject(e._id,{title:i,description:d,deadline:m,priority:p,status:h,teamMembers:_,estimatedHours:y?parseFloat(y):void 0,tags:v.split(",").map(e=>e.trim()).filter(Boolean)}),c.Am.success("Project updated successfully"),t()}catch(e){console.error(e),c.Am.error(e?.response?.data?.message||"Failed to update project")}finally{k(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-3xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-2xl flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Project"}),r.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all",children:r.jsx(b.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("form",{onSubmit:A,className:"p-6 space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Project Title ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"text",value:i,onChange:e=>n(e.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm text-black",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:d,onChange:e=>x(e.target.value),rows:4,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm resize-none text-black"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Deadline ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"date",value:m,onChange:e=>u(e.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm text-black",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority"}),(0,r.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm bg-white text-black",children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"critical",children:"Critical"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),(0,r.jsxs)("select",{value:h,onChange:e=>j(e.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm bg-white text-black",children:[r.jsx("option",{value:"planning",children:"Planning"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"testing",children:"Testing"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"on_hold",children:"On Hold"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Estimated Hours"}),r.jsx("input",{type:"number",value:y,onChange:e=>f(e.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm text-black",placeholder:"e.g., 40"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tags"}),r.jsx("input",{type:"text",value:v,onChange:e=>N(e.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-sm text-black",placeholder:"Enter tags separated by commas..."})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assign Team Members"}),(0,r.jsxs)("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-lg p-2",children:[C.filter(e=>"admin"!==e.role).map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[r.jsx("input",{type:"checkbox",value:e._id,checked:_.includes(e._id),onChange:s=>{s.target.checked?S([..._,e._id]):S(_.filter(s=>s!==e._id))},className:"text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:[e.firstName," ",e.lastName," (",e.email,")"]})]},e._id)),0===C.filter(e=>"admin"!==e.role).length&&r.jsx("p",{className:"text-sm text-gray-500 p-2",children:"No team members available"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:s,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all font-medium text-sm",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:w,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all font-medium text-sm shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:w?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):r.jsx(r.Fragment,{children:"Save Changes"})})]})]})]})})}},5342:(e,s,t)=>{"use strict";var r,a,l,i,n;t.d(s,{Ig:()=>a,T8:()=>i,hY:()=>n,kJ:()=>l}),function(e){e.ADMIN="admin",e.MANAGER="manager",e.TEAM_MEMBER="team_member"}(r||(r={})),function(e){e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical"}(a||(a={})),function(e){e.PLANNING="planning",e.IN_PROGRESS="in_progress",e.TESTING="testing",e.COMPLETED="completed",e.ON_HOLD="on_hold",e.CANCELLED="cancelled"}(l||(l={})),function(e){e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.URGENT="urgent"}(i||(i={})),function(e){e.TODO="todo",e.IN_PROGRESS="in_progress",e.REVIEW="review",e.TESTING="testing",e.COMPLETED="completed",e.BLOCKED="blocked"}(n||(n={}))},7625:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`D:\Task\enterprise-task-management\frontend\src\app\projects\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[147,228,496],()=>t(641));module.exports=r})();